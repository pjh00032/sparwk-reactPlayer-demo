/*! For license information please see main.c3a74243.chunk.js.LICENSE.txt */
(this["webpackJsonpreact-music-player-demo"]=this["webpackJsonpreact-music-player-demo"]||[]).push([[0],{164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var o,n=a(0),i=a.n(n),s=a(8),r=a.n(s),l=a(7),u=a(27),c=a(28),d=a(47),p=a(46),y=a(113),m=a(117),h=a(20),g=a(22),f=a(35),v=a(11),b=a.n(v),P=a(61),L=a.n(P),j=a(103),A=a.n(j),x=a(62),O=a.n(x),S=a(116),k=a(63),M=a.n(k),T=a(48),I={selector:"audio-lists-panel-content-wrap",swapClass:"audio-lists-panel-sortable-highlight-bg",swap:!0,animation:100,easing:"cubic-bezier(0.43, -0.1, 0.16, 1.1)"},C="__PLAYER_KEY__",N=a(2),D=function(e){var t=e.audioLists,a=e.locale,o=e.icon,n=e.playing,i=e.playId,s=e.onPlay,r=e.removeId,l=e.remove,u=e.onDelete,c=e.loading,d=e.playListName,p=e.onClosePanel,y=e.onBackClick,m=e.onLikeModeChange;return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"audio-lists-panel-header",children:Object(N.jsxs)("h2",{className:"audio-lists-panel-header-title",children:[Object(N.jsx)("span",{onClick:y,children:o.backIcon}),Object(N.jsxs)("span",{children:[d," /"]}),Object(N.jsx)("span",{className:"audio-lists-panel-header-num",children:t.length}),Object(N.jsx)("span",{className:"audio-lists-panel-header-actions",children:Object(N.jsx)("span",{className:"audio-lists-panel-header-close-btn",title:a.closeText,onClick:p,children:o.close})})]})}),Object(N.jsx)("div",{className:b()("audio-lists-panel-content",{"no-content":t.length<1}),children:t.length>1?Object(N.jsx)("ul",{className:I.selector,id:"audioLists",children:t.map((function(e){var t=e.name,d=e.singer,p=e.likeMode,y=e[C],h=i===y;return Object(N.jsxs)("li",{title:n&&h?a.clickToPauseText:a.clickToPlayText,className:b()("audio-item",{playing:h},{pause:!n},{remove:r===y}),children:[Object(N.jsxs)("span",{onClick:function(){return s(y)},children:[Object(N.jsx)("span",{className:"group player-status",children:Object(N.jsx)("span",{className:"player-icons",children:h&&c?o.loading:h?n?o.pause:o.play:void 0})}),Object(N.jsx)("span",{className:"group player-name",title:t,children:t}),Object(N.jsx)("span",{className:"group player-singer",title:d,children:d})]}),Object(N.jsx)("span",{onClick:m,children:p?o.like:o.dislike}),l&&Object(N.jsx)("span",{className:"group player-delete",title:a.clickToDeleteText(t),onClick:u(y),children:o.close})]})}))}):Object(N.jsx)("ul",{children:Object(N.jsx)("div",{children:a.emptyText})})})]})},w=Object(n.memo)(D),E=a(115),V=a(114),_=a(200),R=function(e){var t=e.PL_ID,a=e.name,o=e.icon,n=e.locale,s=e.onPlayListRename,r=e.onPlayListDuplicate,l=e.onPlayListDelete,u=i.a.useState(null),c=Object(E.a)(u,2),d=c[0],p=c[1],y=Boolean(d);return Object(N.jsxs)("span",{children:[Object(N.jsx)("span",{className:"player-icons",onClick:function(e){return p(e.currentTarget)},"aria-controls":"simple-menu","aria-haspopup":"true",variant:"contained",children:o.folderSet}),Object(N.jsxs)(V.a,{elevation:0,id:"long-menu",anchorEl:d,keepMounted:!0,open:y,transformOrigin:{vertical:"top",horizontal:"center"},onClose:function(){return p(null)},children:[Object(N.jsx)(_.a,{onClick:function(){p(null),s(t,a)},children:n.playListRename}),Object(N.jsx)(_.a,{onClick:function(){p(null),r(t,a)},children:n.playListDuplicate}),Object(N.jsx)(_.a,{onClick:function(){p(null),l(t,a)},children:n.playListDelete})]})]})},B=Object(n.memo)(R),F=function(e){var t=e.playLists,a=e.icon,o=e.locale,n=(e.remove,e.onClosePanel),i=e.onPlayListClick,s=e.onChangeAddPlayListName,r=e.onAddPlayList,l=e.onAddPlayListConfirm,u=e.isAddPlayList,c=e.addPlayListName,d=e.onPlayListRename,p=e.onPlayListDuplicate,y=e.onPlayListDelete,m=e.playListRenameInput;return Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"audio-lists-panel-header",children:Object(N.jsxs)("h2",{className:"audio-lists-panel-header-title",children:[Object(N.jsxs)("span",{children:[o.playListsText," /"]}),Object(N.jsx)("span",{className:"audio-lists-panel-header-num",children:t.length}),Object(N.jsxs)("span",{className:"audio-lists-panel-header-actions",children:[Object(N.jsx)("span",{onClick:r,children:a.folderPlus}),Object(N.jsx)("span",{className:"audio-lists-panel-header-close-btn",title:o.closeText,onClick:n,children:a.close})]})]})}),Object(N.jsx)("div",{className:b()("audio-lists-panel-content",{"no-content":t.length<1}),children:t.length>1?Object(N.jsxs)("ul",{className:I.selector,id:"playList",children:[t.map((function(e){var t=e.name,n=e.PL_ID,s=e.musicCnt,r=e.isRename;return Object(N.jsxs)("li",{className:"audio-item",children:[Object(N.jsxs)("span",{onClick:function(){r||i(e)},children:[Object(N.jsx)("span",{className:"group player-name",title:t,children:r?m(n,t):t}),Object(N.jsxs)("span",{children:[o.playListSongs,s]})]}),Object(N.jsx)(B,{PL_ID:n,name:t,icon:a,locale:o,onPlayListRename:d,onPlayListDuplicate:p,onPlayListDelete:y})]},n)})),Object(N.jsx)("li",{draggable:"false",className:b()({"audio-lists-panel-playList-add":!u}),children:Object(N.jsxs)("span",{className:"group player-name",children:[Object(N.jsx)("input",{type:"text",onChange:s,value:c}),Object(N.jsx)("button",{onClick:l,children:"add list"})]})},"")]}):Object(N.jsx)("ul",{children:Object(N.jsx)("div",{children:o.emptyListText})})})]})},H=Object(n.memo)(F),q="list",U="music",Y=function(e){var t=e.panelToggleAnimate,a=e.glassBg,o=e.isMobile,n=e.listMode,i=e.locale,s=e.icon,r=e.remove,l=e.onClosePanel,u=e.playLists,c=e.onPlayListClick,d=e.onChangeAddPlayListName,p=e.onAddPlayList,y=e.onAddPlayListConfirm,m=e.isAddPlayList,h=e.addPlayListName,g=e.onPlayListRename,f=e.onPlayListDuplicate,v=e.onPlayListDelete,P=e.playListRenameInput,L=e.audioLists,j=e.playing,A=e.playId,x=e.onPlay,O=e.removeId,S=e.onDelete,k=e.loading,M=e.playListName,T=e.onBackClick,I=e.onLikeModeChange;return Object(N.jsx)("div",{className:b()("audio-lists-panel",t,{"audio-lists-panel-mobile":o,"glass-bg":a}),children:n===q?Object(N.jsx)(H,{playLists:u,icon:s,locale:i,remove:r,onClosePanel:l,onAddPlayList:p,onPlayListClick:c,onChangeAddPlayListName:d,onAddPlayListConfirm:y,isAddPlayList:m,addPlayListName:h,onPlayListRename:g,onPlayListDuplicate:f,onPlayListDelete:v,playListRenameInput:P}):Object(N.jsx)(w,{audioLists:L,locale:i,icon:s,playing:j,playId:A,onPlay:x,removeId:O,remove:r,onDelete:S,loading:k,playListName:M,onClosePanel:l,onBackClick:T,onLikeModeChange:I})})},z=Object(n.memo)(Y),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.progress,a=void 0===t?0:t,o=e.r,n=void 0===o?40:o,i=a.toFixed(2),s=2*Math.PI*n,r="".concat(Math.floor(s*i)," ").concat(Math.floor(s*(1-i)));return Object(N.jsxs)("svg",{className:"audio-circle-process-bar",children:[Object(N.jsx)("circle",{cx:n,cy:n,r:n-1,fill:"none",className:"stroke",strokeDasharray:r}),Object(N.jsx)("circle",{cx:n,cy:n,r:n-1,fill:"none",className:"bg",strokeDasharray:"0 1000"})]})},G=Object(n.memo)(W),K=a(110),Q=a(109),J=a(76),X=a(77),Z=a(78),$=a(79),ee=a(80),te=a(81),ae=a(82),oe=a(83),ne=a(84),ie=a(85),se=a(86),re=a(87),le=a(88),ue=a(89),ce=a(90),de=a(91),pe=a(92),ye=a(93),me=a(94),he=a(95),ge=a(96),fe=a(97),ve=a(98),be=a(99),Pe=a(100),Le=function(){return Object(N.jsx)(Q.FaPlayCircle,{className:"react-jinke-music-player-play-icon"})},je=function(){return Object(N.jsx)(K.FaPauseCircle,{className:"react-jinke-music-player-pause-icon"})},Ae=function(e){var t=e.visible,a=e.value;return Object(N.jsx)("div",{className:b()("play-mode-title",{"play-mode-title-visible":t}),children:a})},xe=Object(n.memo)(Ae),Oe={en_US:"en_US",zh_CN:"zh_CN"},Se="(max-width: 768px) and (orientation : portrait)",ke="screen and (prefers-color-scheme: dark)",Me={FULL:"full",MINI:"mini"},Te=0,Ie=3,Ce=3,Ne={order:"order",orderLoop:"orderLoop",singleLoop:"singleLoop",shufflePlay:"shufflePlay"},De=a(1),we=a.n(De),Ee={LIGHT:"light",DARK:"dark",AUTO:"auto"},Ve=(we.a.oneOf(["order","orderLoop","singleLoop","shufflePlay"]),we.a.array.isRequired,we.a.array.isRequired,we.a.oneOfType([we.a.object,we.a.oneOf(Object.values(Oe))]),we.a.oneOf(Object.values(Ee)),we.a.oneOf(Object.values(Me)),we.a.bool,we.a.bool,we.a.bool,we.a.bool,we.a.bool,we.a.object,we.a.string,we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.shape({top:we.a.oneOfType([we.a.number,we.a.string]),left:we.a.oneOfType([we.a.number,we.a.string]),right:we.a.oneOfType([we.a.number,we.a.string]),bottom:we.a.oneOfType([we.a.number,we.a.string])}),we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.func,we.a.bool,we.a.bool,we.a.bool,we.a.bool,we.a.bool,we.a.bool,we.a.bool,we.a.bool,we.a.oneOfType([we.a.array,we.a.bool,we.a.object,we.a.node,we.a.element,we.a.string]),we.a.oneOfType([we.a.string,we.a.object]),we.a.oneOfType([we.a.string,we.a.object]),we.a.number,we.a.number,we.a.oneOfType([we.a.string,we.a.object]),we.a.bool,we.a.bool,we.a.oneOfType([we.a.bool,we.a.oneOf(["auto","metadata","none"])]),we.a.bool,we.a.bool,we.a.bool,we.a.number,we.a.number,we.a.string,we.a.oneOfType([we.a.string,we.a.object]),we.a.bool,we.a.func,we.a.func,we.a.func,we.a.bool,we.a.bool,we.a.bool,we.a.func,we.a.func,we.a.func,we.a.oneOfType([we.a.string,we.a.func]),we.a.bool,we.a.bool,we.a.func,we.a.string,we.a.shape({fadeIn:we.a.number,fadeOut:we.a.number}),we.a.object,{min:0,step:1}),_e={min:0,max:1,step:.01},Re="in",Be="out",Fe="none",He={playModeText:{order:"Play in order",orderLoop:"List loop",singleLoop:"Single loop",shufflePlay:"Shuffle playback"},likeModeText:{like:"Like",dislike:"Dislike"},openText:"Open",closeText:"Close",emptyText:"There are no registered songs.",clickToPlayText:"Click to play",clickToPauseText:"Click to pause",nextTrackText:"Next track",previousTrackText:"Previous track",reloadText:"Reload",volumeText:"Volume",playListsText:"My Play List",toggleLyricText:"Toggle lyric",toggleMiniModeText:"Minimize",destroyText:"Destroy",downloadText:"Download",lightThemeText:"L",darkThemeText:"D",switchThemeText:"Dark/Light mode",removeAudioListsText:"Delete audio lists",clickToDeleteText:function(e){return"Click to delete ".concat(e)},controllerTitle:Object(N.jsx)(X.FaHeadphones,{}),emptyLyricText:"No lyric",emptyListText:"There are no registered lists.",loadingText:"Loading",playListSongs:"songs : ",folderPlusText:"Folder Plus",playListRename:"Rename",playListDuplicate:"Duplicate",playListDelete:"Delete",confirm:"confirm"},qe={playModeText:{order:"\u987a\u5e8f\u64ad\u653e",orderLoop:"\u5217\u8868\u5faa\u73af",singleLoop:"\u5355\u66f2\u5faa\u73af",shufflePlay:"\u968f\u673a\u64ad\u653e"},openText:"\u6253\u5f00",closeText:"\u5173\u95ed",emptyText:"\u97f3\u4e50\u64ad\u653e\u5217\u8868\u4e3a\u7a7a",clickToPlayText:"\u70b9\u51fb\u64ad\u653e",clickToPauseText:"\u70b9\u51fb\u6682\u505c",nextTrackText:"\u4e0b\u4e00\u9996",previousTrackText:"\u4e0a\u4e00\u9996",reloadText:"\u91cd\u65b0\u64ad\u653e",volumeText:"\u97f3\u91cf",playListsText:"\u64ad\u653e\u5217\u8868",toggleLyricText:"\u663e\u793a/\u9690\u85cf \u6b4c\u8bcd",toggleMiniModeText:"\u5207\u6362\u81f3\u8ff7\u4f60\u6a21\u5f0f",destroyText:"\u79fb\u9664\u64ad\u653e\u5668",downloadText:"\u4e0b\u8f7d",lightThemeText:"\u4eae",darkThemeText:"\u6697",switchThemeText:"\u6697\u9ed1/\u660e\u4eae \u4e3b\u9898",removeAudioListsText:"\u6e05\u7a7a\u64ad\u653e\u5217\u8868",clickToDeleteText:function(e){return"\u70b9\u51fb\u5220\u9664 ".concat(e)},controllerTitle:Object(N.jsx)(X.FaHeadphones,{}),emptyLyricText:"\u6682\u65e0\u6b4c\u8bcd",loadingText:"\u52a0\u8f7d\u4e2d"},Ue=(o={},Object(h.a)(o,Oe.en_US,He),Object(h.a)(o,Oe.zh_CN,qe),o),Ye=/\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g,ze={title:"ti",artist:"ar",album:"al",offset:"offset",by:"by"},We=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};Object(u.a)(this,e),this.lrc=t,this.tags={},this.lines=[],this.handler=a,this.state=0,this.curLine=0,this._init()}return Object(c.a)(e,[{key:"_init",value:function(){this._initTag(),this._initLines()}},{key:"_initTag",value:function(){for(var e in ze){var t=this.lrc.match(new RegExp("\\[".concat(ze[e],":([^\\]]*)]"),"i"));this.tags[e]=t&&t[1]||""}}},{key:"_initLines",value:function(){this.lines=[];for(var e=this.lrc.split("\n"),t=parseInt(this.tags.offset,10)||0,a=0;a<e.length;a++){var o=e[a],n=Ye.exec(o);if(n){var i=o.replace(Ye,"").trim();i&&this.lines.push({time:60*n[1]*1e3+1e3*n[2]+10*(n[3]||0)+t,txt:i})}}this.lines.sort((function(e,t){return e.time-t.time}))}},{key:"_findCurNum",value:function(e){for(var t=0;t<this.lines.length;t++)if(e<=this.lines[t].time)return t;return this.lines.length-1}},{key:"_callHandler",value:function(e){e<0||(""===this.lines[e].txt?this.handler({txt:"",lineNum:0}):this.handler({txt:this.lines[e].txt,lineNum:e}))}},{key:"_playRest",value:function(){var e=this,t=this.lines[this.curNum].time-(+new Date-this.startStamp);this.timer=setTimeout((function(){e._callHandler(e.curNum++),e.curNum<e.lines.length&&1===e.state&&e._playRest()}),t)}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;this.lines.length&&(this.state=1,this.curNum=this._findCurNum(e),this.startStamp=+new Date-e,t||this._callHandler(this.curNum-1),this.curNum<this.lines.length&&(clearTimeout(this.timer),this._playRest()))}},{key:"togglePlay",value:function(){var e=+new Date;1===this.state?(this.stop(),this.pauseStamp=e):(this.state=1,this.play((this.pauseStamp||e)-(this.startStamp||e),!0),this.pauseStamp=0)}},{key:"stop",value:function(){this.state=0,clearTimeout(this.timer)}},{key:"seek",value:function(e){this.play(e)}}]),e}();function Ge(e){var t=0,a=0,o=parseInt(e);o>=60&&(t=parseInt(o/60),o=parseInt(o%60),t>=60&&(a=parseInt(t/60),t=parseInt(t%60)));var n=function(e){return e>>0<10?"0".concat(e):e};return a>0?[n(a),n(t),n(o)].join(":"):[n(t),n(o)].join(":")}function Ke(e,t){return parseInt(Math.random()*(t-e+1)+e,10)}var Qe=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},Je=function(){return"".concat(Qe()+Qe(),"-").concat(Qe(),"-").concat(Qe(),"-").concat(Qe(),"-").concat(Qe()).concat(Qe()).concat(Qe())},Xe=function(){return/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)};function Ze(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function $e(e){return.5-Math.cos(e*Math.PI)/2}function et(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=o.duration,i=void 0===n?1e3:n,s=o.easing,r=void 0===s?$e:s,l=o.interval,u=void 0===l?13:l,c=arguments.length>4?arguments[4]:void 0,d=a-t;if(!d||!i||!r||!u||Ze())return e.volume=a,c(),{fadeInterval:void 0,updateIntervalEndVolume:void 0};var p=Math.floor(i/u),y=1,m=function(e){a=e},h=setInterval((function(){var o=a-t;o!==d&&(d=o),e.volume=t+r(y/p)*d,++y>=p&&(e.volume=a,clearInterval(h),c())}),u);return{fadeInterval:h,updateIntervalEndVolume:m}}var tt=a(111),at=a.n(tt),ot=function(e){return{container:e,waveColor:"#eee",progressColor:"OrangeRed",cursorColor:"OrangeRed",barWidth:2,barRadius:3,responsive:!0,height:150,normalize:!0,partialRender:!0,hideScrollbar:!0,displayMilliseconds:!0,debug:!0,controls:!0}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wave,a=e.url,o=e.onSeek,i=Object(n.useRef)(null);return Object(n.useEffect)((function(){return t.current=at.a.create(ot(i.current)),t.current.load(a),t.current.setMute(!0),t.current.on("seek",o),function(){return t.current.destroy()}}),[a]),Object(N.jsx)("div",{children:Object(N.jsx)("div",{id:"waveform",ref:i})})},it=Object(n.memo)(nt),st=a(199),rt=a(112),lt=function(e){var t=e.lyrics,a=e.currentMillisecond;return Object(N.jsx)(rt.Lrc,{lrc:t,currentMillisecond:a,autoScroll:!0,style:{width:400,height:700},lineRenderer:function(e){e.index;var t=e.active,a=e.line;return Object(N.jsx)("div",{style:{fontSize:t?"20px":"18px",color:t?"red":"#333",fontWeight:t?500:300,lineHeight:"40px"},children:a.content})}})},ut=Object(n.memo)(lt);T.b.mount(new T.a);var ct=A()(),dt={pause:Object(N.jsx)(je,{}),play:Object(N.jsx)(Le,{}),destroy:Object(N.jsx)(ne.MdClose,{}),close:Object(N.jsx)(ne.MdClose,{}),delete:Object(N.jsx)(de.RiDeleteBinLine,{size:24}),download:Object(N.jsx)(me.TiDownload,{size:26}),toggle:Object(N.jsx)(Z.FaRegMinusSquare,{}),lyric:Object(N.jsx)(J.FaBook,{}),volume:Object(N.jsx)(oe.GoUnmute,{size:26}),mute:Object(N.jsx)(ae.GoMute,{size:26}),next:Object(N.jsx)(ce.MdSkipNext,{}),prev:Object(N.jsx)(le.MdSkipPrevious,{}),playLists:Object(N.jsx)(pe.RiPlayList2Fill,{}),reload:Object(N.jsx)(ee.FaSyncAlt,{size:22}),loop:Object(N.jsx)(re.MdRepeatOne,{size:26}),order:Object(N.jsx)(ue.MdViewHeadline,{size:26}),orderLoop:Object(N.jsx)(se.MdRepeat,{size:26}),shuffle:Object(N.jsx)(ye.TiArrowShuffle,{size:26}),loading:Object(N.jsx)($.FaSpinner,{}),packUpPanelMobile:Object(N.jsx)(te.FiChevronsDown,{size:26}),empty:Object(N.jsx)(ie.MdLibraryMusic,{}),like:Object(N.jsx)(he.RiHeart3Fill,{}),dislike:Object(N.jsx)(ge.RiHeart3Line,{}),folderPlus:Object(N.jsx)(fe.GoDiffAdded,{}),folderSet:Object(N.jsx)(ve.GoKebabHorizontal,{}),backIcon:Object(N.jsx)(be.GoChevronLeft,{}),confirmIcon:Object(N.jsx)(Pe.GoCheck,{})},pt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var o;return Object(u.a)(this,a),(o=t.call(this,e)).isDrag=!1,o.initPlayId="",o.getPlayIndex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.playIndex,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.state.audioLists;return Math.max(0,Math.min(t.length-1,e))},o.onCoverClick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me.FULL,t=o.props.showMiniModeCover,a=o.state.cover;(t||e!==Me.MINI)&&o.props.onCoverClick&&a&&o.props.onCoverClick(e,o.state.audioLists,o.getBaseAudioInfo())},o.getAudioTitle=function(){var e=(o.locale||{}).audioTitle,t=o.state,a=t.name,n=t.singer;return"function"===typeof e&&o.audio?e(o.getBaseAudioInfo()):e||"".concat(a).concat(n?" - ".concat(n):"")},o.getOnlyAudioTitle=function(){var e=(o.locale||{}).audioTitle,t=o.state.name;return"function"===typeof e&&o.audio?e(o.getBaseAudioInfo()):e||"".concat(t)},o.renderAudioTitle=function(){var e=o.state,t=e.isMobile,a=e.name;return o.props.renderAudioTitle?o.props.renderAudioTitle(o.getBaseAudioInfo(),t):t?a:o.getAudioTitle()},o.toggleAudioLyric=function(){o.setState({audioLyricVisible:!o.state.audioLyricVisible})},o.togglePlayMode=function(){var e=o._PLAY_MODE_.findIndex((function(e){return e===o.state.playMode})),t=e===o._PLAY_MODE_LENGTH_-1?o._PLAY_MODE_[0]:o._PLAY_MODE_[++e];o.setState({playMode:t,playModelNameVisible:!0,playModeTipVisible:!0}),o.props.onPlayModeChange&&o.props.onPlayModeChange(t),clearTimeout(o.playModelTimer),o.playModelTimer=setTimeout((function(){o.setState({playModelNameVisible:!1,playModeTipVisible:!1})}),o.props.playModeShowTime)},o.renderPlayModeIcon=function(e){var t={className:"react-jinke-music-player-mode-icon"},a=null;switch(e){case Ne.order:a=Object(n.cloneElement)(o.iconMap.order,t);break;case Ne.orderLoop:a=Object(n.cloneElement)(o.iconMap.orderLoop,t);break;case Ne.singleLoop:a=Object(n.cloneElement)(o.iconMap.loop,t);break;case Ne.shufflePlay:a=Object(n.cloneElement)(o.iconMap.shuffle,t);break;default:a=Object(n.cloneElement)(o.iconMap.order,t)}return a},o.renderLikeModeIcon=function(e){var t={className:"react-jinke-music-player-mode-icon"},a=null;switch(e){case!0:a=Object(n.cloneElement)(o.iconMap.like,t);break;case!1:a=Object(n.cloneElement)(o.iconMap.dislike,t);break;default:a=Object(n.cloneElement)(o.iconMap.dislike,t)}return a},o.audioListsPlay=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.state,n=a.playId,i=a.playing,s=a.audioLists,r=a.loading,l=a.canPlay;if(Array.isArray(s)&&0===s.length)return console.warn("Warning: Your playlist has no songs. and cannot play !");if(!r||e!==n){var u=s.findIndex((function(t){return t[C]===e})),c=s[u]||{},d=c.name,p=c.cover,y=c.musicSrc,m=c.singer,h=c.lyric,g=function(t){o.setState({name:d,cover:p,musicSrc:t,singer:m,playId:e,lyric:h,currentTime:0,playing:!1,loading:!0,canPlay:!1,loadedProgress:0,playIndex:u,isAutoPlayWhenUserClicked:!0},(function(){o.lyric&&o.lyric.stop(),o.audio.load(),o.updateMediaSessionMetadata(),setTimeout((function(){o.initLyricParser()}),0)}))};if(e===n&&!t)return o.setState({playing:!i}),i?o.audio.pause():l?void o.play():g(y);switch(o.props.onAudioPlayTrackChange&&o.props.onAudioPlayTrackChange(e,s,o.getBaseAudioInfo()),o.props.onPlayIndexChange&&o.props.onPlayIndexChange(u),typeof y){case"function":y().then(g,o.onAudioError);break;default:g(y)}}},o.resetAudioStatus=function(){o.audio.pause(),o.lyric&&o.lyric.stop(),o.initPlayInfo([]),o.resetAudioPlayStatus(),o.resetAudioPlayId()},o.resetAudioPlayId=function(){o.setState({playId:o.initPlayId})},o.clearAudioLists=function(){o.props.onAudioListsChange&&o.props.onAudioListsChange("",[],{}),o.resetAudioStatus()},o.onDeleteAudioLists=function(e){return function(t){t.stopPropagation();var a=o.state,n=a.audioLists,i=a.playId;if(!(n.length<1))if(o.lyric&&o.lyric.stop(),e){var s=Object(g.a)(n).filter((function(t){return t[C]!==e}));o.setState({removeId:e}),setTimeout((function(){o.setState({audioLists:s,removeId:-1},(function(){if(!s.length)return o.resetAudioStatus();e===i&&o.handlePlay(Ne.orderLoop)}))}),350),o.props.onAudioListsChange&&o.props.onAudioListsChange(i,s,o.getBaseAudioInfo())}else o.clearAudioLists()}},o.openAudioListsPanel=function(){o.setState((function(e){return{initAnimate:!0,audioListsPanelVisible:!e.audioListsPanelVisible}})),o.props.onAudioListsPanelChange&&o.props.onAudioListsPanelChange(!o.state.audioListsPanelVisible)},o.closeAudioListsPanel=function(e){e.stopPropagation(),o._closeAudioListsPanel()},o._closeAudioListsPanel=function(){var e=o.state.audioListsPanelVisible;o.setState({audioListsPanelVisible:!1}),e&&o.props.onAudioListsPanelChange&&o.props.onAudioListsPanelChange(!1)},o.themeChange=function(e){var t=e?Ee.LIGHT:Ee.DARK;o.setState({theme:t}),o.props.onThemeChange&&o.props.onThemeChange(t)},o.onAudioDownload=function(){var e=o.state.musicSrc;if(o.state.musicSrc){var t=o.props.customDownloader,a=o.getBaseAudioInfo(),n=o.props.onBeforeAudioDownload(a),i={};n&&n.then?n.then((function(e){var a=e.src,o=e.filename,n=e.mimeType;i=e,t?t(e):L()(a,o,n)})):t?t({src:e}):L()(e),o.props.onAudioDownload&&o.props.onAudioDownload(a,i)}},o.onControllerDrag=function(e,t){var a=t.x,n=t.y,i=o.state,s=i.moveX,r=i.moveY;o.isDrag=!0,s===a&&r===n&&(o.isDrag=!1)},o.onControllerDragStart=function(e,t){var a=t.x,n=t.y;o.isDrag=!1,o.setState({moveX:a,moveY:n})},o.onControllerDragStop=function(e,t){var a=t.x,n=t.y;o.props.showDestroy&&o.destroyBtn&&o.destroyBtn.current&&o.destroyBtn.current.contains(e.target)?o.onDestroyPlayer():(o.isDrag||(o.state.isNeedMobileHack&&(o.loadAndPlayAudio(),o.setState({isNeedMobileHack:!1})),o.onOpenPanel()),o.setState({moveX:a,moveY:n}))},o.onResetVolume=function(){var e=o.state.currentAudioVolume;o.setAudioVolume(o.getVolumeBarValue(e||.1))},o.setAudioVolume=function(e){o.audio.volume=o.getListeningVolume(e),o.setState({currentAudioVolume:e,soundValue:e}),o.state.currentVolumeFade===Re&&o.state.updateIntervalEndVolume&&o.state.updateIntervalEndVolume(e)},o.stopAll=function(e){e.stopPropagation(),e.preventDefault()},o.getBoundingClientRect=function(e){var t=e.getBoundingClientRect();return{left:t.left,top:t.top}},o.getListeningVolume=function(e){return Math.pow(e,2)},o.getVolumeBarValue=function(e){return Math.sqrt(e)},o.onAudioReload=function(){o.props.audioLists.length&&(o.handlePlay(Ne.singleLoop),o.props.onAudioReload&&o.props.onAudioReload(o.getBaseAudioInfo()),o.onWavePositionChange(o.audio.currentTime),o.wavesurfer.current.isPlaying()||o.wavesurfer.current.playPause())},o.onLikeModeChange=function(){var e=o.state.audioLists;o.state.likeMode?(e[0].likeMode=!1,o.setState({likeMode:!1,audioLists:e})):(e[0].likeMode=!0,o.setState({likeMode:!0,audioLists:e}))},o.onChangeAddPlayListName=function(e){o.setState({addPlayListName:e.target.value})},o.onAddPlayListConfirm=function(){var e=o.state.addPlayListName,t=o.state.myPlayLists.length+1,a="PL_"+(o.state.myPlayLists.length+1);o.setState({myPlayLists:[].concat(Object(g.a)(o.state.myPlayLists),[{PL_ID:a,name:e,order:t,musicCnt:0}])}),o.setState({isAddPlayList:!1,addPlayListName:""})},o.onAddPlayList=function(){o.state.isAddPlayList?o.setState({isAddPlayList:!1,addPlayListName:""}):o.setState({isAddPlayList:!0})},o.onChangeRenamePlayListName=function(e){o.setState({renamePlayListName:e.target.value})},o.onRenamePlayListConfirm=function(){o.setState({renamePlayListName:""})},o.onRenamePlayListCancel=function(e){o.setState({renamePlayListName:""})},o.playListRenameInput=function(e,t){return Object(N.jsxs)("span",{children:[Object(N.jsx)("input",{type:"text",value:o.state.renamePlayListName,onChange:o.onChangeRenamePlayListName}),Object(N.jsx)("span",{onClick:function(){return o.onRenamePlayListConfirm(e,t)},children:o.iconMap.confirmIcon}),Object(N.jsx)("span",{onClick:function(){return o.onRenamePlayListCancel(e)},children:o.iconMap.close})]})},o.onPlayListRename=function(e,t){var a=o.state.myPlayLists;a.forEach((function(t){t.PL_ID===e&&(t.isRename=!0)})),o.setState({myPlayLists:a,renamePlayListName:t})},o.onPlayListDuplicate=function(e,t){console.log("onPlayListDuplicate")},o.onPlayListDelete=function(e,t){console.log("onPlayListDelete")},o.onAudioListSort=function(e){return e.sort((function(e,t){return e.order-t.order})),e},o.onFind=function(e,t){for(var a=[],o=0;o<e.length;o++)e[o].PL_ID===t&&a.push(e[o]);return a},o.onPlayListClick=function(e){console.log(e),console.log(e.PL_ID),console.log(o.audioLists),o.setState({playListName:e.name,playListMode:U})},o.onBackClick=function(){o.setState({playListMode:q})},o.onOpenPanel=function(){var e=o.props,t=e.toggleMode,a=e.spaceBar;t&&(o.setState({toggle:!0}),o.props.onModeChange&&o.props.onModeChange(Me.FULL),a&&o.player.current&&o.player.current.focus({preventScroll:!0})),o.onCoverClick(Me.MINI)},o.onHidePanel=function(){o.setState({toggle:!1,audioListsPanelVisible:!1}),o.props.onModeChange&&o.props.onModeChange(Me.MINI)},o.onDestroyPlayer=function(){if(o.props.onBeforeDestroy){var e=Promise.resolve(o.props.onBeforeDestroy(o.state.playId,o.state.audioLists,o.getBaseAudioInfo()));e&&e.then&&e.then((function(){o._onDestroyPlayer()})).catch((function(){}))}else o._onDestroyPlayer()},o._onDestroyPlayer=function(){o.unInstallPlayer()},o._onDestroyed=function(){o.setState({isPlayDestroyed:!0}),o.props.onDestroyed&&o.props.onDestroyed(o.state.playId,o.state.audioLists,o.getBaseAudioInfo())},o.getCurrentPlayIndex=function(){return o.state.audioLists.findIndex((function(e){return e[C]===o.state.playId}))},o.resetAudioPlayStatus=function(){return new Promise((function(e){o.setState({currentTime:0,loading:!1,playing:!1,canPlay:!1,lyric:"",currentLyric:"",defaultLyric:"",loadedProgress:0,playIndex:0},e)}))},o.onTogglePlay=function(){if(o.setState({isAudioSeeking:!1}),o.state.audioLists.length>=1){var e=o.props.volumeFade||{},t=e.fadeIn,a=e.fadeOut,n=o.state,i=n.currentVolumeFade,s=n.currentVolumeFadeInterval,r=i===Re||i===Be;if(r&&(clearInterval(s),o.setState({currentVolumeFadeInterval:void 0,updateIntervalEndVolume:void 0})),!r&&o.state.playing||i===Re){o.setState({currentVolumeFade:Be});var l=et(o.audio,o.audio.volume,0,{duration:a},(function(){o.audio.pause(),o.setState({currentVolumeFade:Fe,currentVolumeFadeInterval:void 0,playing:!1,updateIntervalEndVolume:void 0}),o.audio.volume=o.getListeningVolume(o.state.soundValue)})),u=l.fadeInterval,c=l.updateIntervalEndVolume;o.setState({currentVolumeFadeInterval:u,updateIntervalEndVolume:c})}else{o.setState({currentVolumeFade:Re});var d=r?o.audio.volume:0,p=o.getListeningVolume(o.state.soundValue),y=et(o.audio,d,p,{duration:t},(function(){o.setState({currentVolumeFade:Fe,currentVolumeFadeInterval:void 0,updateIntervalEndVolume:void 0}),o.audio.volume=o.getListeningVolume(o.state.soundValue)})),m=y.fadeInterval,h=y.updateIntervalEndVolume;o.setState({currentVolumeFadeInterval:m,updateIntervalEndVolume:h,isAutoPlayWhenUserClicked:!0},(function(){m&&(o.audio.volume=d),o.loadAndPlayAudio()}))}o.wavesurfer.current.playPause()}},o.playAudio=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(o.isAudioCanPlay||e)&&(e&&o.setAudioLoaded(),o.loadAndPlayAudio(e))},o.setAudioLoaded=function(){o.setState({loading:!1,playing:!1})},o.onAudioPause=function(){o.setState({playing:!1}),o.props.onAudioPause&&o.props.onAudioPause(o.getBaseAudioInfo()),o.state.lyric&&o.lyric&&o.lyric.togglePlay()},o.onAudioPlay=function(){o.state.isAudioSeeking||(o.setState({playing:!0,loading:!1}),o.props.onAudioPlay&&o.props.onAudioPlay(o.getBaseAudioInfo()),o.state.lyric&&o.lyric&&o.lyric.togglePlay())},o.onSetAudioLoadedProgress=function(){var e=o.audio,t=e.buffered,a=e.duration;if(t.length&&t.end){var n=t.end(t.length-1)/a*100;o.setState({loadedProgress:n})}},o.loadAndPlayAudio=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=o.props.remember,a=o.state,n=a.isInitRemember,i=a.musicSrc,s=o.audio,r=s.networkState,l=s.readyState;if(i){if(r===Ie||r===Te)return o.onAudioError({reason:"\n          [loadAndPlayAudio]: Failed to load because no supported source was found.\n          current network status is ".concat(r,".\n        ")});if(o.setState({playing:!1,loading:!0,isAudioSeeking:!1,isResetCoverRotate:!1}),e||l>=Ce){var u=o.getLastPlayStatus(),c=u.playing,d=t&&!n&&!c,p=t?!d:o.isAudioCanPlay;o.setState({playing:p,loading:!1},(function(){p&&o.play(),o.setState({isInitAutoPlay:!0,isInitRemember:!0,isAutoPlayWhenUserClicked:!1})}))}else o.audio.load()}},o.onAudioError=function(e){var t=o.state,a=t.playMode,n=t.audioLists,i=t.playId,s=t.musicSrc,r=o.props.loadAudioErrorPlayNext,l=a===Ne.singleLoop?Ne.order:a;if(o.lyric&&o.lyric.stop(),s){if(r&&n.length)(a===Ne.order||a===Ne.orderLoop)&&i===n[n.length-1][C]||o.handlePlay(l,!0);o.props.onAudioError&&o.props.onAudioError(o.audio.error||e&&e.reason||null,i,n,o.getBaseAudioInfo())}},o.handlePlay=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=o.state,n=a.playId,i=a.audioLists,s=i.length;if(s){var r=o.getCurrentPlayIndex();switch(e){case Ne.order:if(r===s-1)return void o.audio.pause();o.audioListsPlay(t?i[r+1][C]:i[r-1][C]);break;case Ne.orderLoop:if(t){if(r===s-1)return o.audioListsPlay(i[0][C]);o.audioListsPlay(i[r+1][C])}else{if(0===r)return o.audioListsPlay(i[s-1][C]);o.audioListsPlay(i[r-1][C])}break;case Ne.singleLoop:o.audio.currentTime=0,o.audioListsPlay(n,!0);break;case Ne.shufflePlay:var l=Ke(0,s-1);l===o.getCurrentPlayIndex()&&(l=o.getPlayIndex(l+1));var u=(i[l]||{})[C];o.audioListsPlay(u,!0)}}},o.onAudioEnd=function(){o.props.onAudioEnded&&o.props.onAudioEnded(o.state.playId,o.state.audioLists,o.getBaseAudioInfo()),o.handlePlay(o.state.playMode)},o.audioPrevAndNextBasePlayHandle=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=o.state.playMode,a="";switch(t){case Ne.shufflePlay:a=t;break;default:a=Ne.orderLoop}o.handlePlay(a,e)},o.onPlayPrevAudio=function(){o.props.restartCurrentOnPrev&&o.audio.currentTime>1?o.audio.currentTime=0:o.audioPrevAndNextBasePlayHandle(!1)},o.onPlayNextAudio=function(){o.audioPrevAndNextBasePlayHandle(!0)},o.audioTimeUpdate=function(){var e=o.audio.currentTime;o.setState({currentTime:e}),o.props.remember&&o.saveLastPlayStatus(),o.props.onAudioProgress&&o.props.onAudioProgress(o.getBaseAudioInfo())},o.onAudioSoundChange=function(e){o.setAudioVolume(e)},o.onAudioVolumeChange=function(){var e=o.audio.volume,t=o.state,a=t.currentVolumeFade,n=t.currentAudioVolume;if(a===Fe&&n!==e){var i=o.getVolumeBarValue(e);if(o.setState({soundValue:i}),o.props.onAudioVolumeChange){var s=parseFloat(e.toFixed(4));o.props.onAudioVolumeChange(s)}}},o.onProgressChange=function(e){o.audio&&(o.audio.currentTime=e),o.setState({currentTime:e,isAudioSeeking:!0})},o.onAudioSeeked=function(e){o.setState({isAudioSeeking:!0}),o.state.audioLists.length&&(o.lyric&&o.lyric.seek(1e3*e),o.state.playing||o.lyric&&o.lyric.stop(),o.audio&&(o.audio.currentTime=e,o.onWavePositionChange(e)),o.props.onAudioSeeked&&o.props.onAudioSeeked(o.getBaseAudioInfo()),setTimeout((function(){o.setState({isAudioSeeking:!1})}),500))},o.onAudioMute=function(){o.setState({soundValue:0,currentAudioVolume:o.audio.volume},(function(){o.audio.volume=0}))},o.onAudioAbort=function(e){var t=o.state,a=t.audioLists,n=t.playId,i=o.getBaseAudioInfo(),s=Object(l.a)(Object(l.a)({},e),i);o.props.onAudioAbort&&o.props.onAudioAbort(n,a,s)},o.toggleMode=function(e){e===Me.FULL&&o.setState({toggle:!0})},o.toggleTheme=function(e){o.setState({theme:e})},o.onAudioListsSortEnd=function(e){var t=e.oldIndex,a=e.newIndex;if(t!==a){var n=o.state,i=n.playId,s=n.audioLists,r=Object(g.a)(s),l=r.splice(t,1)[0];r.splice(a,0,l);var u=t===i?a:i;o.setState({audioLists:r,playId:u}),o.props.onAudioListsSortEnd&&o.props.onAudioListsSortEnd(t,a),o.props.onAudioListsChange&&o.props.onAudioListsChange(u,r,o.getBaseAudioInfo()),o.props.onAudioListsDragEnd&&(console.warn("[Deprecated] onAudioListsDragEnd is deprecated. please use onAudioListsSortEnd(oldIndex, newIndex){}"),o.props.onAudioListsDragEnd(t,a))}},o.saveLastPlayStatus=function(){var e=o.state,t=e.currentTime,a=e.playId,n=e.theme,i=e.soundValue,s=e.playMode,r=e.name,l=e.likeMode,u=e.cover,c=e.singer,d=e.musicSrc,p=JSON.stringify({currentTime:t,playId:a,theme:n,playMode:s,soundValue:i,name:r,likeMode:l,cover:u,singer:c,musicSrc:d});localStorage.setItem("lastPlayStatus",p)},o.getLastPlayStatus=function(){var e=o.props,t=e.theme,a=e.defaultPlayMode,n=e.playMode,i=e.defaultPlayIndex,s=e.playIndex,r={currentTime:0,playMode:n||a||Ne.order,name:"",likeMode:"",cover:"",singer:"",musicSrc:"",lyric:"",playId:o.getDefaultPlayId(),theme:t,playing:!0,playIndex:s||i||0};try{return JSON.parse(localStorage.getItem("lastPlayStatus"))||r}catch(l){return r}},o.checkCurrentPlayingAudioIsInUpdatedAudioLists=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props,t=o.state,a=t.playId,n=t.musicSrc;return!(!e.quietUpdate||!Array.isArray(e.audioLists))&&(a&&e.audioLists.some((function(e){return e[C]===a||e.musicSrc===n})))},o.play=function(){var e=o.audio.play();e&&e.then&&e.then((function(){o.setState({loading:!1,playing:!0})})).catch((function(){o.setState({loading:!1,playing:!1})}))},o.mockAutoPlayForMobile=function(){o.props.autoPlay&&!o.state.playing&&(o.audio.load(),o.play())},o.bindMobileAutoPlayEvents=function(){document.addEventListener("touchstart",(function(){o.mockAutoPlayForMobile()}),{once:!0}),document.addEventListener("WeixinJSBridgeReady",(function(){o.mockAutoPlayForMobile()}))},o.bindSafariAutoPlayEvents=function(){document.addEventListener("click",(function(){o.mockAutoPlayForMobile()}),{once:!0})},o.unBindEvents=function(){var e;(e=o).bindEvents.apply(e,arguments)},o.bindEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.audio,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waiting:o.loadAndPlayAudio,canplay:o.onAudioCanPlay,error:o.onAudioError,ended:o.onAudioEnd,pause:o.onAudioPause,play:o.onAudioPlay,timeupdate:o.audioTimeUpdate,volumechange:o.onAudioVolumeChange,abort:o.onAudioAbort,progress:o.onSetAudioLoadedProgress},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=o.props.once;for(var i in t){var s=t[i];e&&(a?e.addEventListener(i,s,{once:!(!n||"play"!==i)}):e.removeEventListener(i,s))}},o.getPlayId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.state.audioLists,t=o.getPlayIndex(void 0,e),a=o.state.playId||e[t]&&e[t][C];return a},o._getPlayInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=o.getPlayId(e),a=e.find((function(e){return e[C]===t}))||{},n=a.name,i=void 0===n?"":n,s=a.cover,r=void 0===s?"":s,l=a.singer,u=void 0===l?"":l,c=a.musicSrc,d=void 0===c?"":c,p=a.lyric,y=void 0===p?"":p,m=a.likeMode,h=void 0===m||m;return{name:i,likeMode:h,cover:r,singer:u,musicSrc:d,lyric:y,audioLists:e,playId:t}},o.getPlayInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.filter((function(e){return!e[C]})),a=e.filter((function(e){return e[C]})),n=[].concat(Object(g.a)(a),Object(g.a)(t.map((function(e){return Object(l.a)(Object(l.a)({},e),{},Object(h.a)({},C,Je()))}))));return o._getPlayInfo(n)},o.getPlayInfoOfNewList=function(e){var t=e.audioLists,a=(void 0===t?[]:t).map((function(t){var a=e.quietUpdate&&o.state.audioLists.find((function(e){return e.musicSrc===t.musicSrc}))||{};return Object(l.a)(Object(l.a)({},t),{},Object(h.a)({},C,a[C]||Je()))}));return o._getPlayInfo(a)},o.initPlayInfo=function(e,t){var a=o.getPlayInfo(e);switch(typeof a.musicSrc){case"function":a.musicSrc().then((function(e){o.setState(Object(l.a)(Object(l.a)({},a),{},{musicSrc:e}),t)}),o.onAudioError);break;default:o.setState(a,t)}},o.addMatchMediaListener=function(e,t){var a=window.matchMedia(e);return t(a),"addEventListener"in a?a.addEventListener("change",t):a.addListener(t),a},o.removeMatchMediaListener=function(e,t){e&&("removeEventListener"in e?e.removeEventListener("change",t):e.removeListener&&e.removeListener(t))},o.addMobileListener=function(){o.mobileMedia=o.addMatchMediaListener(o.props.mobileMediaQuery,o.mobileMediaHandler)},o.removeMobileListener=function(){o.removeMatchMediaListener(o.mobileMedia,o.mobileMediaHandler)},o.addSystemThemeListener=function(){o.systemThemeMedia=o.addMatchMediaListener(ke,o.systemThemeMediaHandler)},o.removeSystemThemeListener=function(){o.removeMatchMediaListener(o.systemThemeMedia,o.systemThemeMediaHandler)},o.mobileMediaHandler=function(e){var t=e.matches;o.setState({isMobile:!!t})},o.systemThemeMediaHandler=function(e){var t=e.matches;if(o.props.theme===Ee.AUTO){var a=t?Ee.DARK:Ee.LIGHT;o.updateTheme(a)}},o.setDefaultAudioVolume=function(){var e=o.props,t=e.defaultVolume,a=e.remember;o.defaultVolume=Math.max(0,Math.min(t,1));var n=o.getLastPlayStatus().soundValue,i=void 0===n?o.defaultVolume:n;o.setAudioVolume(a?i:o.defaultVolume)},o.getDefaultPlayId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props.audioLists,t=o.getPlayIndex();return e[t]&&e[t][C]},o.initLyricParser=function(){o.lyric=new We(o.state.lyric,o.onLyricChange),o.setState({currentLyric:o.lyric.lines[0]&&o.lyric.lines[0].txt,defaultLyric:o.lyric.lrc})},o.onLyricChange=function(e){var t=e.lineNum,a=e.txt;o.setState({currentLyric:a}),o.props.onAudioLyricChange&&o.props.onAudioLyricChange(t,a)},o.onChangeEditLyrics=function(e){var t=e.target.value;o.lyric.lrc=t,o.lyric._init(),""===t?o.setState({lyric:t,defaultLyric:t,currentLyric:t}):o.setState({lyric:t,defaultLyric:t}),o.lyric&&o.lyric.seek(1e3*o.state.currentTime)},o.onWaveSeek=function(){o.onProgressChange(o.wavesurfer.current.getCurrentTime()),o.setState({isAudioSeeking:!0}),o.state.audioLists.length&&(o.lyric&&o.lyric.seek(1e3*o.wavesurfer.current.getCurrentTime()),o.state.playing||o.lyric&&o.lyric.stop(),o.audio&&(o.audio.currentTime=o.wavesurfer.current.getCurrentTime()),o.props.onAudioSeeked&&o.props.onAudioSeeked(o.getBaseAudioInfo()),setTimeout((function(){o.setState({isAudioSeeking:!1})}),500))},o.updateTheme=function(e){e&&e!==o.props.theme&&Object.values(Ee).includes(e)&&o.setState({theme:e})},o.updateMode=function(e){e&&e!==o.props.mode&&Object.values(Me).includes(e)&&(o.setState({toggle:e===Me.FULL}),e===Me.MINI&&o._closeAudioListsPanel())},o.updatePlayMode=function(e){Object.values(Ne).includes(e)&&e!==o.props.playMode&&o.setState({playMode:e})},o.updateAudioLists=function(e){var t=[].concat(Object(g.a)(o.state.audioLists),Object(g.a)(e.filter((function(e){return-1===o.state.audioLists.findIndex((function(t){return t.musicSrc===e.musicSrc}))}))));o.initPlayInfo(t),o.bindEvents(o.audio),o.props.onAudioListsChange&&o.props.onAudioListsChange(o.state.playId,e,o.getBaseAudioInfo())},o.loadNewAudioLists=function(e){var t=e.audioLists,a=e.remember,n=e.playMode,i=e.theme,s=e.autoPlayInitLoadPlayList,r=e.playIndex;if(Array.isArray(t)&&t.length){var u=o.getPlayInfoOfNewList(e),c=a?o.getLastPlayStatus():{playMode:n||Ne.order,playIndex:r||0};i!==Ee.AUTO&&(c.theme=i);var d=Object(l.a)(Object(l.a)(Object(l.a)({},u),c),{},{isInitAutoPlay:s,playing:o.isAudioCanPlay});if(o.checkCurrentPlayingAudioIsInUpdatedAudioLists(e))o.setState({audioLists:u.audioLists});else switch(typeof u.musicSrc){case"function":u.musicSrc().then((function(e){o.setState(Object(l.a)(Object(l.a)({},d),{},{musicSrc:e}))}),o.onAudioError);break;default:o.setState(d)}}},o.resetPlayId=function(){return new Promise((function(e){o.setState({playId:o.initPlayId},e)}))},o.changeAudioLists=function(e){o.checkCurrentPlayingAudioIsInUpdatedAudioLists(e)||o.resetAudioStatus(),o.resetPlayId().then((function(){o.loadNewAudioLists(e),o.props.onAudioListsChange&&o.props.onAudioListsChange(o.state.playId,e.audioLists,o.getBaseAudioInfo())}))},o.updatePlayIndex=function(e){var t=o.getCurrentPlayIndex();void 0!==e&&t!==e&&o.resetAudioPlayStatus().then((function(){var t=o.state.audioLists[o.getPlayIndex(e)];t&&t[C]&&o.audioListsPlay(t[C],!0)}))},o.playByIndex=function(e){o.updatePlayIndex(e)},o.getEnhanceAudio=function(){var e=Object(f.a)(o).audio;return[{name:"destroy",value:o.onDestroyPlayer},{name:"updatePlayIndex",value:o.updatePlayIndex},{name:"playByIndex",value:o.playByIndex},{name:"playNext",value:o.onPlayNextAudio},{name:"playPrev",value:o.onPlayPrevAudio},{name:"togglePlay",value:o.onTogglePlay},{name:"clear",value:o.clearAudioLists},{name:"sortable",value:o.sortable}].forEach((function(t){var a=t.name,o=t.value;Object.defineProperty(e,a,{value:o,writable:!1})})),e},o.onGetAudioInstance=function(){o.props.getAudioInstance&&o.props.getAudioInstance(o.getEnhanceAudio())},o.updateMediaSessionMetadata=function(){if("mediaSession"in navigator&&o.props.showMediaSession){var e=o.state,t=e.name,a=e.cover,n=e.singer;a&&({title:t,artist:n,album:t}.artwork=["96x96","128x128","192x192","256x256","384x384","512x512"].map((function(e){return{src:a,sizes:e,type:"image/png"}}))),o.updateMediaSessionPositionState()}},o.updateMediaSessionPositionState=function(){if("setPositionState"in navigator.mediaSession)try{var e=Object(f.a)(o).audio;navigator.mediaSession.setPositionState({duration:o.audioDuration,playbackRate:e.playbackRate||1,position:e.currentTime||0})}catch(t){console.error("Update media session position state failed: ",t)}},o.onAddMediaSession=function(){if("mediaSession"in navigator&&o.props.showMediaSession){navigator.mediaSession.setActionHandler("play",o.onTogglePlay),navigator.mediaSession.setActionHandler("pause",o.onTogglePlay),navigator.mediaSession.setActionHandler("seekbackward",(function(e){var t=e.seekOffset||10;o.audio.currentTime=Math.max(o.audio.currentTime-t,0),o.props.onAudioSeeked&&o.props.onAudioSeeked(o.getBaseAudioInfo())})),navigator.mediaSession.setActionHandler("seekforward",(function(e){var t=e.seekOffset||10;o.audio.currentTime=Math.min(o.audio.currentTime+t,o.audioDuration),o.props.onAudioSeeked&&o.props.onAudioSeeked(o.getBaseAudioInfo())})),navigator.mediaSession.setActionHandler("previoustrack",o.onPlayPrevAudio),navigator.mediaSession.setActionHandler("nexttrack",o.onPlayNextAudio),setTimeout((function(){o.updateMediaSessionMetadata()}),0);try{navigator.mediaSession.setActionHandler("seekto",(function(e){e.fastSeek&&"fastSeek"in o.audio?o.audio.fastSeek(e.seekTime):(o.audio.currentTime=e.seekTime,o.updateMediaSessionPositionState())}))}catch(e){console.warn('Warning! The "seekto" media session action is not supported.')}}},o.bindUnhandledRejection=function(){window.addEventListener("unhandledrejection",o.onAudioError)},o.unBindUnhandledRejection=function(){window.removeEventListener("unhandledrejection",o.onAudioError)},o.bindKeyDownEvents=function(){o.props.spaceBar&&o.player.current&&(o.player.current.addEventListener("keydown",o.onKeyDown,!1),o.player.current.focus({preventScroll:!0}))},o.unBindKeyDownEvents=function(){o.player.current&&o.player.current.removeEventListener("keydown",o.onKeyDown,!1)},o.onKeyDown=function(e){o.props.spaceBar&&32===e.keyCode&&o.onTogglePlay()},o.initPlayer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props.audioLists,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Array.isArray(e)&&e.length&&(a&&o.setDefaultAudioVolume(),o.bindUnhandledRejection(),o.bindEvents(o.audio),o.initLyricParser(),o.onAddMediaSession(),ct?o.bindMobileAutoPlayEvents():(t&&o.bindKeyDownEvents(),Xe()&&o.bindSafariAutoPlayEvents()))},o.removeLyric=function(){o.lyric&&(o.lyric.stop(),o.lyric=void 0)},o.unInstallPlayer=function(){o.unBindEvents(o.audio,void 0,!1),o.unBindUnhandledRejection(),o.unBindKeyDownEvents(),o.removeMobileListener(),o.removeLyric(),o._onDestroyed(),o.sortable&&o.sortable.destroy()},o.onAudioCanPlay=function(){o.state.isAudioSeeking||o.setState({canPlay:!0},(function(){o.playAudio(!0)}))},o.initSortableAudioLists=function(){var e=o.props,t=e.audioLists,a=e.sortableOptions,n=I.selector,i=Object(m.a)(I,["selector"]),s=document.querySelector(".".concat(n));Array.isArray(t)&&!t.length||!s||(o.sortable&&o.sortable.destroy(),o.sortable=new T.b(s,Object(l.a)(Object(l.a)({onEnd:o.onAudioListsSortEnd},i),a)))},o.audio=null,o.targetId="music-player-controller",o._PLAY_MODE_=Object.values(Ne),o._PLAY_MODE_LENGTH_=o._PLAY_MODE_.length,o.player=Object(n.createRef)(),o.destroyBtn=Object(n.createRef)(),o.wavesurfer=Object(n.createRef)(),o.state={audioLists:[],myPlayLists:[],playId:o.initPlayId,name:"",singer:"",cover:"",musicSrc:"",likeMode:!1,lyric:"",currentLyric:"",isMobile:ct,toggle:o.props.mode===Me.FULL,playing:!1,currentTime:0,soundValue:100,moveX:0,moveY:0,loading:!1,audioListsPanelVisible:!1,playModelNameVisible:!1,theme:o.props.theme,playMode:o.props.playMode||o.props.defaultPlayMode||"",currentAudioVolume:0,initAnimate:!1,isInitAutoPlay:o.props.autoPlay,isInitRemember:!1,loadedProgress:0,removeId:-1,isNeedMobileHack:ct,audioLyricVisible:!0,isAutoPlayWhenUserClicked:!1,playIndex:o.props.playIndex||o.props.defaultPlayIndex||0,canPlay:!1,currentVolumeFade:Fe,currentVolumeFadeInterval:void 0,updateIntervalEndVolume:void 0,isAudioSeeking:!1,isResetCoverRotate:!1,defaultLyric:"",playListMode:"",addPlayListName:"",renamePlayListName:"",isAddPlayList:!1},o}return Object(c.a)(a,[{key:"locale",get:function(){var e=this.props.locale;return"string"===typeof e?Ue[this.props.locale]:e?Object(l.a)(Object(l.a)({},Ue[Oe.en_US]),e):{}}},{key:"audioDuration",get:function(){var e=this.state,t=e.audioLists,a=e.playId;if(!t.length||!this.audio)return 0;var o=(t.find((function(e){return e[C]===a}))||{}).duration;return Math.max(Number(o)||this.audio.duration||0,0)}},{key:"isAudioCanPlay",get:function(){var e=this.props.autoPlay,t=this.state,a=t.isInitAutoPlay,o=t.isAutoPlayWhenUserClicked;return t.canPlay&&(a||e||o)}},{key:"iconMap",get:function(){var e=this,t=function(){return Object(N.jsx)("span",{className:"loading group",children:e.props.icon.loading})};return Object(l.a)(Object(l.a)(Object(l.a)({},dt),this.props.icon),{},{loading:Object(N.jsx)(t,{})})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,o=t.drag,n=t.style,i=t.showDownload,r=t.showPlay,u=t.showReload,c=t.showPlayMode,d=t.showLikeMode,p=t.showThemeSwitch,y=t.toggleMode,m=t.showMiniModeCover,h=t.extendsContent,g=t.defaultPlayMode,f=t.seeked,v=t.showProgressLoadBar,P=t.bounds,L=t.defaultPosition,j=t.showMiniProcessBar,A=t.preload,x=t.glassBg,k=t.remove,T=t.lyricClassName,I=t.showLyric,C=t.getContainer,D=t.autoHiddenCover,w=t.showDestroy,E=t.responsive,V=this.locale,_=this.state,R=_.toggle,B=_.playing,F=_.currentTime,H=_.soundValue,q=_.moveX,U=_.moveY,Y=_.loading,W=_.audioListsPanelVisible,K=_.theme,Q=(_.lyric,_.cover),J=_.musicSrc,X=_.playId,Z=_.isMobile,$=_.playMode,ee=(_.playModeTipVisible,_.playModelNameVisible),te=_.initAnimate,ae=_.loadedProgress,oe=_.audioLists,ne=_.removeId,ie=_.currentLyric,se=(_.defaultLyric,_.audioLyricVisible),re=_.isPlayDestroyed,le=_.isResetCoverRotate,ue=_.playListName,ce=_.addPlayListName,de=(_.renamePlayListName,_.likeMode),pe=_.isAddPlayList,ye=!1===A||"none"===A?{}:!0===A?{preload:"auto"}:{preload:A},me=te?{show:W,hide:!W}:{show:W},he=Ne[$||g]||Ne.order,ge=V.playModeText[he],fe=m&&!D||D&&Q?{style:{backgroundImage:"url(".concat(Q,")")}}:{},ve=Ge(F),be=Ge(this.audioDuration),Pe=f?{onChange:this.onProgressChange,onAfterChange:this.onAudioSeeked}:{},Le=Object(N.jsxs)(N.Fragment,{children:[v&&Object(N.jsx)("div",{className:"progress-load-bar",style:{width:"".concat(Math.min(ae,100),"%")}}),Object(N.jsx)(O.a,Object(l.a)(Object(l.a)({max:Math.ceil(this.audioDuration),defaultValue:0,value:Math.ceil(F)},Pe),Ve))]}),je=i&&Object(N.jsx)("span",{className:"group audio-download",onClick:this.onAudioDownload,title:V.downloadText,children:this.iconMap.download}),Ae=p&&Object(N.jsx)("span",{className:"group theme-switch",children:Object(N.jsx)(S.a,{className:"theme-switch-container",onChange:this.themeChange,checkedChildren:V.lightThemeText,unCheckedChildren:V.darkThemeText,checked:K===Ee.LIGHT,title:V.switchThemeText})}),Oe=u&&Object(N.jsx)("span",{className:"group reload-btn",onClick:this.onAudioReload,title:V.reloadText,children:this.iconMap.reload}),Se=I&&Object(N.jsx)("span",{className:b()("group lyric-btn",{"lyric-btn-active":se}),onClick:this.toggleAudioLyric,title:V.toggleLyricText,children:this.iconMap.lyric}),ke=c&&Object(N.jsx)("span",{className:b()("group loop-btn"),onClick:this.togglePlayMode,title:V.playModeText[he],children:this.renderPlayModeIcon(he)}),Me=d&&Object(N.jsx)("span",{id:"likeModeSpan",className:"group loop-btn-dis",onClick:this.onLikeModeChange,title:V.likeModeText[he],children:this.state.likeMode?this.iconMap.like:this.iconMap.dislike}),Te=Z?30:40,Ie=w&&Object(N.jsx)("span",{title:V.destroyText,className:"group destroy-btn",ref:this.destroyBtn,onClick:!o||R?this.onDestroyPlayer:void 0,children:this.iconMap.destroy}),Ce=Object(N.jsx)("div",{className:b()("react-jinke-music-player"),style:L,tabIndex:"-1",children:Object(N.jsxs)("div",{className:b()("music-player"),children:[j&&Object(N.jsx)(G,{progress:F/this.audioDuration,r:Te}),Object(N.jsx)("div",Object(l.a)(Object(l.a)({id:this.targetId,className:b()("scale","music-player-controller",{"music-player-playing":B})},fe),{},{onClick:o?void 0:this.onOpenPanel,children:Y?this.iconMap.loading:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:"controller-title",children:V.controllerTitle}),Object(N.jsx)("div",{className:"music-player-controller-setting",children:R?V.closeText:V.openText})]})})),Ie]})}),De=C()||document.body,we=this.getAudioTitle();if(re)return null;var Re=!B||this.state.currentVolumeFade===Be;return Object(s.createPortal)(Object(N.jsxs)("div",{className:b()("react-jinke-music-player-main",{"light-theme":K===Ee.LIGHT,"dark-theme":K===Ee.DARK},a),style:n,ref:this.player,tabIndex:"-1",children:[Object(N.jsx)(it,{wave:this.wavesurfer,url:this.state.musicSrc,onSeek:this.onWaveSeek}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{style:{display:"flex"},children:[Object(N.jsx)(ut,{lyrics:this.state.defaultLyric,currentMillisecond:1e3*this.state.currentTime}),Object(N.jsx)(st.a,{id:"outlined-basic",onChange:this.onChangeEditLyrics,value:this.state.lyric,multiline:!0,rows:"10",style:{width:400}})]}),R?void 0:o?Object(N.jsx)(M.a,{bounds:P,position:{x:q,y:U},onDrag:this.onControllerDrag,onStop:this.onControllerDragStop,onStart:this.onControllerDragStart,children:Ce}):Ce,R&&(!Z||!E)&&Object(N.jsx)("div",{className:b()("music-player-panel","translate",{"glass-bg":x}),children:Object(N.jsxs)("section",{className:"panel-content",children:[(!D||D&&Q)&&Object(N.jsx)("div",{className:b()("img-content","img-rotate",{"img-rotate-pause":!B||!Q,"img-rotate-reset":le}),style:{backgroundImage:"url(".concat(Q,")")},onClick:function(){return e.onCoverClick()}}),Object(N.jsxs)("div",{className:"audio-title",children:[Object(N.jsx)("span",{title:we,children:this.renderAudioTitle()}),Object(N.jsx)("div",{className:"title",children:this.getOnlyAudioTitle()})]}),Object(N.jsx)("div",{className:"progress-bar-content",children:Object(N.jsxs)("section",{className:"audio-main",children:[Object(N.jsx)("span",{className:"current-time",title:ve,children:Y?"--":ve}),Object(N.jsx)("div",{className:"progress-bar",children:Le}),Object(N.jsx)("span",{className:"duration",title:be,children:Y?"--":be})]})}),Object(N.jsxs)("div",{className:"player-content",children:[Oe,r?Object(N.jsxs)("span",{className:"group",children:[Object(N.jsx)("span",{className:"group prev-audio",title:V.previousTrackText,onClick:this.onPlayPrevAudio,children:this.iconMap.prev}),Y?Object(N.jsx)("span",{className:"group loading-icon",title:V.loadingText,children:this.iconMap.loading}):Object(N.jsx)("span",{className:"group play-btn",onClick:this.onTogglePlay,title:Re?V.clickToPlayText:V.clickToPauseText,children:Re?this.iconMap.play:this.iconMap.pause}),Object(N.jsx)("span",{className:"group next-audio",title:V.nextTrackText,onClick:this.onPlayNextAudio,children:this.iconMap.next})]}):Y&&this.iconMap.loading,je,Ae,h||null,ke,Object(N.jsxs)("span",{className:"group play-sounds",title:V.volumeText,children:[0===H?Object(N.jsx)("span",{className:"sounds-icon",onClick:this.onResetVolume,children:this.iconMap.mute}):Object(N.jsx)("span",{className:"sounds-icon",onClick:this.onAudioMute,children:this.iconMap.volume}),Object(N.jsx)(O.a,Object(l.a)({value:H,onChange:this.onAudioSoundChange,className:"sound-operation"},_e))]}),Se,Object(N.jsxs)("span",{className:"group audio-lists-btn",title:V.playListsText,onClick:this.openAudioListsPanel,children:[Object(N.jsx)("span",{className:"audio-lists-icon",children:this.iconMap.playLists}),Object(N.jsx)("span",{className:"audio-lists-num",children:oe.length})]}),y&&Object(N.jsx)("span",{className:"group hide-panel",title:V.toggleMiniModeText,onClick:this.onHidePanel,children:this.iconMap.toggle}),Me]})]})}),Object(N.jsx)(z,{playing:B,playId:X,loading:Y,visible:W,audioLists:oe,onPlay:this.audioListsPlay,onClosePanel:this.closeAudioListsPanel,icon:this.iconMap,isMobile:Z,panelToggleAnimate:me,glassBg:x,cover:Q,remove:k,onDelete:this.onDeleteAudioLists,removeId:ne,locale:V,onLikeModeChange:this.onLikeModeChange,likeMode:de,listMode:this.state.playListMode,playLists:this.state.myPlayLists,onPlayListClick:this.onPlayListClick,playListName:ue,onBackClick:this.onBackClick,onAddPlayListConfirm:this.onAddPlayListConfirm,onAddPlayList:this.onAddPlayList,onChangeAddPlayListName:this.onChangeAddPlayListName,isAddPlayList:pe,addPlayListName:ce,onPlayListRename:this.onPlayListRename,onPlayListDuplicate:this.onPlayListDuplicate,onPlayListDelete:this.onPlayListDelete,playListRenameInput:this.playListRenameInput}),!Z&&Object(N.jsx)(xe,{visible:ee,value:ge}),se&&Object(N.jsx)(M.a,{children:Object(N.jsx)("div",{className:b()("music-player-lyric",T),children:ie||V.emptyLyricText})}),Object(N.jsx)("audio",Object(l.a)(Object(l.a)({className:"music-player-audio",title:we},ye),{},{src:J,ref:function(t){e.audio=t}}))]}),De)}},{key:"getBaseAudioInfo",value:function(){var e=this.state,t=e.cover,a=e.name,o=e.likeMode,n=e.musicSrc,i=e.soundValue,s=e.lyric,r=e.audioLists,u=e.currentLyric,c=e.defaultLyric,d=this.audio||{},p=d.currentTime,y=d.muted,m=d.networkState,h=d.readyState,g=d.played,f=d.paused,v=d.ended,b=d.startDate,P=this.getCurrentPlayIndex(),L=r[P]||{};return Object(l.a)(Object(l.a)({},L),{},{cover:t,name:a,likeMode:o,musicSrc:n,volume:i,currentTime:p,duration:this.audioDuration,muted:y,networkState:m,readyState:h,played:g,paused:f,ended:v,startDate:b,lyric:s,currentLyric:u,defaultLyric:c,playIndex:P})}},{key:"onWavePositionChange",value:function(e){e>=this.wavesurfer.current.getDuration()?this.wavesurfer.current.seekTo(1):this.wavesurfer.current.seekTo(e/this.wavesurfer.current.getDuration())}},{key:"componentDidUpdate",value:function(e,t){t.musicSrc!==this.state.musicSrc&&this.setState({isResetCoverRotate:!0})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t,a=this,o=e.audioLists,n=e.playIndex,i=e.theme,s=e.mode,r=e.playMode,l=e.clearPriorAudioLists,u=(t=o,function(e){return JSON.stringify(t)===JSON.stringify(e)})(this.props.audioLists);u||(l?this.changeAudioLists(e):this.updateAudioLists(o),this.checkCurrentPlayingAudioIsInUpdatedAudioLists(e)||this.initPlayer(o,!1,!1),setTimeout((function(){return a.initSortableAudioLists()}),200)),this.updatePlayIndex(!u&&l?0:n),this.updateTheme(i),this.updateMode(s),this.updatePlayMode(r)}},{key:"UNSAFE_componentWillMount",value:function(){var e=this;console.log("UNSAFE_componentWillMount");var t=this.props,a=t.audioLists,o=t.remember,n=t.myPlayLists,i=t.playListMode;if(Array.isArray(n)&&n.length>=1&&n.forEach((function(e){e.isRename=!1})),Array.isArray(a)&&a.length>=1){var s=this.getPlayInfo(a),r=o?this.getLastPlayStatus():{};switch(typeof s.musicSrc){case"function":s.musicSrc().then((function(t){e.setState(Object(l.a)(Object(l.a)({},s),{},{myPlayLists:n,playListMode:i,musicSrc:t},r))}),this.onAudioError);break;default:this.setState(Object(l.a)(Object(l.a)({},s),{},{myPlayLists:n,playListMode:i},r))}}}},{key:"componentWillUnmount",value:function(){this.unInstallPlayer()}},{key:"componentDidMount",value:function(){this.addMobileListener(),this.addSystemThemeListener(),this.initPlayer(),this.initSortableAudioLists(),this.onGetAudioInstance()}}]),a}(n.PureComponent);pt.defaultProps={audioLists:[],myPlayLists:[],theme:Ee.DARK,mode:Me.MINI,defaultPlayMode:Ne.order,defaultPosition:{left:0,top:0},once:!1,drag:!0,toggleMode:!0,showMiniModeCover:!0,showDownload:!0,showPlay:!0,showReload:!0,showLikeMode:!0,showPlayMode:!0,showThemeSwitch:!0,showLyric:!1,playModeTipVisible:!1,autoPlay:!0,defaultVolume:1,showProgressLoadBar:!0,seeked:!0,playModeShowTime:600,bounds:"body",showMiniProcessBar:!1,loadAudioErrorPlayNext:!0,preload:!1,glassBg:!1,remember:!1,remove:!0,defaultPlayIndex:0,getContainer:function(){return document.body},autoHiddenCover:!1,onBeforeAudioDownload:function(){},spaceBar:!1,showDestroy:!1,showMediaSession:!1,locale:Oe.en_US,responsive:!0,icon:dt,quietUpdate:!1,mobileMediaQuery:Se,volumeFade:{fadeIn:0,fadeOut:0},restartCurrentOnPrev:!1,sortableOptions:{},playListMode:q,playListName:"",isAddPlayList:!1,defaultLyric:""};a.p,a.p,a(164),a(165);var yt=[{PL_ID:"PL_1",AD_ID:"AD_2",name:"Dorost Nemisham1",singer:"Sirvan Khosravi",cover:"https://res.cloudinary.com/ehsanahmadi/image/upload/v1573758778/Sirvan-Khosravi-Dorost-Nemisham_glicks.jpg",musicSrc:"https://www.mfiles.co.uk/mp3-downloads/brahms-st-anthony-chorale-theme-two-pianos.mp3",likeMode:!1,order:2,lyric:""},{PL_ID:"PL_1",AD_ID:"AD_1",name:"Despacito",singer:"Luis Fonsi",cover:"https://ifh.cc/g/QVGATp.png",musicSrc:"https://res.cloudinary.com/alick/video/upload/v1502689683/Luis_Fonsi_-_Despacito_ft._Daddy_Yankee_uyvqw9.mp3",likeMode:!0,order:1,lyric:["[00:00.00]by RentAnAdviser.com","[00:28.10]aay","[00:30.21]Fonsi","[00:31.65]DY","[00:33.23]Ohh OH NO OH Noo","[00:37.21]EYY EYY eh","[00:41.44]Si... Sabes que ya llevo un rato mir\xe1ndote","[00:46.78]Tengo que bailar contigo hoy","[00:51.24]DY","[00:52.47]Vi Que tu mirada ya estaba llam\xe1ndome","[00:57.47]Muestrame el camino que yo voy","[01:02.15]OHH","[01:03.40]Tu... T\xfa eres el im\xe1n y yo soy el metal","[01:06.27]Me voy acercando y voy armando el plan","[01:09.06]**** con pensarlo se acelera el pulso","[01:12.74]Ohh yeah","[01:13.78]Ya","[01:15.15]Ya me est\xe1s gustando m\xe1s de lo normal","[01:17.11]Todos mis sentidos van pidiendo m\xe1s","[01:19.58]Esto hay que *****lo sin ning\xfan apuro","[01:23.17]Despacito","[01:25.75]Quiero respirar tu cuello despacito","[01:28.27]Deja que te diga cosas al o\xeddo","[01:31.07]Para que te acuerdes si no est\xe1s conmigo","[01:34.33]Despacito","[01:36.48]Quiero *******rte a besos despacito","[01:39.07]Firmar las paredes de tu laberinto","[01:41.63]Y hacer de tu cuerpo todo un m****crito","[01:44.38]Sube sube sube sube sube","[01:46.55]Quiero ver bailar tu pelo Quiero ser tu ritmo","[01:50.27]Que le ense\xf1es a mi boca","[01:53.15]Tus lugares favoritos","[01:55.64]Favorito favorito ey eeh","[01:57.34]D\xe9jame sobrepasar","[01:58.78]Tu zonas de peligro","[02:01.11]Hasta ******** tus *****s","[02:03.70]Y que olvides tu apellido","[02:06.38]Si te pido un beso ven damelo","[02:08.64]Yo se que estas pensandolo","[02:10.07]LLevo tiempo intentandolo","[02:11.34]Mami esto es dando y dandolo","[02:12.67]Sabes que tu corazon conmigo te hace bam bam","[02:15.44]Sabes que esa beba esta buscando de mi bambam","[02:18.17]Ven prueba de mi boca para ver como te sabe","[02:20.78]Quiero quiero quiero ver cuanto amor a ti te cabe","[02:23.48]Yo no tengo prisa yo me quiero dar el viaje","[02:26.27]Empezamos lento despues salvaje","[02:29.01]Pasito a pasito suave suavecito","[02:31.51]Nos vamos pegando poquito a poquito","[02:34.25]Cuando tu me besas con esa destreza","[02:37.04]Creo tu eres malicia con delicadeza","[02:39.73]Pasito a pasito suave suavecito","[02:42.31]Nos vamos pegando poquito a poquito","[02:45.14]Y es que esa belleza es un rompe cabeza","[02:47.61]Pero pa ******** aqui tengo la pieza","[02:51.42]Despacito","[02:53.25]Quiero recorrerte a besos despacito","[02:55.67]Deja que te diga cosas al o\xeddo","[02:58.48]Para que te acuerdes si no est\xe1s conmigo","[03:02.00]Despecito","[03:03.77]Quiero recorrerte a besos despacito","[03:06.44]Dime las paredes de tu laberinto","[03:09.17]Y hacer de tu cuerpo todo un m****crito","[03:12.22]sube sube sube sube sube","[03:14.17]Quiero ver bailar tu pelo quiero ser tu ritmo","[03:17.68]Que le ense\xf1es a mi boca tus lugares favoritos","[03:23.17]favorito favorito","[03:24.75]D\xe9jame sobrepasar tu zonas de peligro","[03:29.01]Hasta ******** tus *****s y que olvides tu apellido","[03:34.24]Despacito","[03:36.26]Vamos a hcerlo en una playa en Puerto Rico","[03:38.58]Hasta que las olas griten Ay Bendito","[03:41.51]Para que mi sello se quede contigo BAILALO","[03:45.77]Pasito a pasito suave suavecito","[03:48.34]Nos vamos pegando poquito a poquito","[03:51.07]Que le ense\xf1es a mi boca tus lugares favoritos","[03:57.00]Pasito a pasito suave suavecito","[03:59.17]Nos vamos pegando poquito a poquito","[04:01.64]Hasta ******** tus *****s y que olvides tu apellido","[04:06.50]DES...PA...CI...TO","[04:12.24]Pasito a pasito","[04:13.38]Suave suavecito","[04:14.61]Nos vamos pegando","[04:16.25]Poquito a poquito","[04:23.10]Pasito a pasito","[04:24.30]Suave suavecito","[04:25.57]Nos vamos pegando","[04:27.05]Poquito a poquito","[04:34.68]by RentAnAdviser.com"].join("\n")}],mt={myPlayLists:[{PL_ID:"PL_1",name:"play list 1",order:1,musicCnt:2},{PL_ID:"PL_2",name:"play list 2",order:2,musicCnt:0}],locale:Oe.en_US,defaultPlayIndex:0,theme:"light",drag:!0,bounds:"body",seeked:!0,showMiniModeCover:!0,showMiniProcessBar:!1,showMediaSession:!1,showProgressLoadBar:!0,showPlay:!0,showReload:!0,showDownload:!1,showPlayMode:!0,showThemeSwitch:!1,showLyric:!0,showDestroy:!0,quietUpdate:!1,clearPriorAudioLists:!1,autoPlayInitLoadPlayList:!1,preload:!1,glassBg:!1,remember:!1,remove:!0,defaultPosition:{right:100,bottom:120},defaultPlayMode:"shufflePlay",mode:"full",once:!1,autoPlay:!1,toggleMode:!1,extendsContent:null,defaultVolume:1,playModeShowTime:600,loadAudioErrorPlayNext:!0,autoHiddenCover:!1,spaceBar:!1,responsive:!1,mobileMediaQuery:"(max-width: 1024px)",volumeFade:{fadeIn:0,fadeOut:0},restartCurrentOnPrev:!1,sortableOptions:{},onAudioDownload:function(e){},onAudioPlay:function(e){},onAudioPause:function(e){},onAudioSeeked:function(e){},onAudioVolumeChange:function(e){},onAudioEnded:function(e,t,a){},onAudioAbort:function(e,t,a){},onAudioProgress:function(e){},onAudioReload:function(e){},onAudioError:function(e,t,a,o){},onAudioListsChange:function(e,t,a){},onAudioPlayTrackChange:function(e,t,a){},onAudioListsPanelChange:function(e){},onAudioListsSortEnd:function(e,t){},onAudioLyricChange:function(e,t){},getContainer:function(){return document.body},getAudioInstance:function(e){console.log("audio instance",e)},onBeforeDestroy:function(e,t,a){return console.log("onBeforeDestroy currentPlayId: ",e),console.log("onBeforeDestroy audioLists: ",t),console.log("onBeforeDestroy audioInfo: ",a),new Promise((function(e,t){window.confirm("Are you confirm destroy the player?")?e():t()}))},onDestroyed:function(e,t,a){console.log("onDestroyed:",e,t,a)},onCoverClick:function(e,t,a){console.log("onCoverClick: ",e,t,a)}},ht=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var o,n;return Object(u.a)(this,a),(o=t.call(this,e)).state={unmount:!1,params:Object(l.a)(Object(l.a)({audioLists:(n=yt,n.sort((function(e,t){return e.order-t.order})),n)},mt),{},{getAudioInstance:function(e){o.audio=e}})},o.updateParams=function(e){var t=Object(l.a)(Object(l.a)({},o.state.params),e);o.setState({params:t})},o.extendsContent=function(){o.updateParams({extendsContent:Object(N.jsx)("button",{type:"button",onClick:function(){alert("I'm extends content")},children:"button"})})},o.audio={},o}return Object(c.a)(a,[{key:"render",value:function(){var e=this.state,t=e.params,a=e.unmount;return Object(N.jsx)("div",{children:a?null:Object(N.jsx)(pt,Object(l.a)({},t))})}}]),a}(i.a.PureComponent),gt=Object(y.hot)(ht),ft=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,201)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),o(e),n(e),i(e),s(e)}))};r.a.render(Object(N.jsx)(gt,{}),document.getElementById("root")),ft()}},[[166,1,2]]]);
//# sourceMappingURL=main.c3a74243.chunk.js.map